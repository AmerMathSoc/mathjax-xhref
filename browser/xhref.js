(()=>{"use strict";var t={d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{configuration:()=>Z});const r=("undefined"!=typeof window?window:global).MathJax._.components.global,a=(r.GLOBAL,r.isObject,r.combineConfig,r.combineDefaults,r.combineWithMathJax),s=(r.MathJax,MathJax._.core.MmlTree.MmlNode),n=(s.TEXCLASS,s.TEXCLASSNAMES,s.MATHVARIANTS,s.indentAttributes,s.AbstractMmlNode),o=(s.AbstractMmlTokenNode,s.AbstractMmlLayoutNode,s.AbstractMmlBaseNode,s.AbstractMmlEmptyNode),i=(s.TextNode,s.XMLNode,MathJax._.core.MmlTree.MmlNodes.mo.MmlMo);var c;!function(t){const e=new Map([["autoOP",!0],["fnOP",!0],["movesupsub",!0],["subsupOK",!0],["texprimestyle",!0],["useHeight",!0],["variantForm",!0],["withDelims",!0],["mathaccent",!0],["open",!0],["close",!0]]);function r(t,r){for(const a of Object.keys(r)){let s=r[a];"texClass"===a?(t.texClass=s,t.setProperty(a,s)):"movablelimits"===a?(t.setProperty("movablelimits",s),(t.isKind("mo")||t.isKind("mstyle"))&&t.attributes.set("movablelimits",s)):"inferred"===a||(e.has(a)?t.setProperty(a,s):t.attributes.set(a,s))}}function a(t,e,r){t.childNodes[e]=r,r&&(r.parent=t)}function s(t,e){return t.isKind(e)}t.createEntity=function(t){return String.fromCodePoint(parseInt(t,16))},t.getChildren=function(t){return t.childNodes},t.getText=function(t){return t.getText()},t.appendChildren=function(t,e){for(let r of e)t.appendChild(r)},t.setAttribute=function(t,e,r){t.attributes.set(e,r)},t.setProperty=function(t,e,r){t.setProperty(e,r)},t.setProperties=r,t.getProperty=function(t,e){return t.getProperty(e)},t.getAttribute=function(t,e){return t.attributes.get(e)},t.removeAttribute=function(t,e){delete t.attributes.getAllAttributes()[e]},t.removeProperties=function(t,...e){t.removeProperty(...e)},t.getChildAt=function(t,e){return t.childNodes[e]},t.setChild=a,t.copyChildren=function(t,e){let r=t.childNodes;for(let t=0;t<r.length;t++)a(e,t,r[t])},t.copyAttributes=function(t,e){e.attributes=t.attributes,r(e,t.getAllProperties())},t.isType=s,t.isEmbellished=function(t){return t.isEmbellished},t.getTexClass=function(t){return t.texClass},t.getCoreMO=function(t){return t.coreMO()},t.isNode=function(t){return t instanceof n||t instanceof o},t.isInferred=function(t){return t.isInferred},t.getForm=function(t){if(!s(t,"mo"))return null;let e=t,r=e.getForms();for(let t of r){let r=this.getOp(e,t);if(r)return r}return null},t.getOp=function(t,e="infix"){return i.OPTABLE[e][t.getText()]||null}}(c||(c={}));const l=c,u=MathJax._.util.Options,h=(u.isObject,u.APPEND,u.REMOVE,u.OPTIONS,u.Expandable,u.expandable,u.makeArray,u.keys,u.copy,u.insert,u.defaultOptions,u.userOptions,u.selectOptions,u.selectOptionsFromKeys,u.separateOptions,u.lookup,MathJax._.input.tex.MapHandler),p=h.MapHandler,m=(h.SubHandler,h.SubHandlers,MathJax._.util.FunctionList.FunctionList,MathJax._.util.PrioritizedList.PrioritizedList),d=MathJax._.input.tex.Tags,f=(d.Label,d.TagInfo,d.AbstractTags,d.NoTags,d.AllTags,d.TagsFactory);class x{static makeProcessor(t,e){return Array.isArray(t)?t:[t,e]}static _create(t,e={}){let r=e.priority||m.DEFAULTPRIORITY,a=e.init?this.makeProcessor(e.init,r):null,s=e.config?this.makeProcessor(e.config,r):null,n=(e.preprocessors||[]).map((t=>this.makeProcessor(t,r))),o=(e.postprocessors||[]).map((t=>this.makeProcessor(t,r))),i=e.parser||"tex";return new x(t,e.handler||{},e.fallback||{},e.items||{},e.tags||{},e.options||{},e.nodes||{},n,o,a,s,r,i)}static create(t,e={}){let r=x._create(t,e);return g.set(t,r),r}static local(t={}){return x._create("",t)}constructor(t,e={},r={},a={},s={},n={},o={},i=[],c=[],l=null,u=null,h,p){this.name=t,this.handler=e,this.fallback=r,this.items=a,this.tags=s,this.options=n,this.nodes=o,this.preprocessors=i,this.postprocessors=c,this.initMethod=l,this.configMethod=u,this.priority=h,this.parser=p,this.handler=Object.assign({character:[],delimiter:[],macro:[],environment:[]},e)}get init(){return this.initMethod?this.initMethod[0]:null}get config(){return this.configMethod?this.configMethod[0]:null}}var g;!function(t){let e=new Map;t.set=function(t,r){e.set(t,r)},t.get=function(t){return e.get(t)},t.keys=function(){return e.keys()}}(g||(g={}));const M=MathJax._.input.tex.Symbol,S=(M.Symbol,M.Macro);function b(t){return void 0===t||t}class k{constructor(t,e){this._name=t,this._parser=e,p.register(this)}get name(){return this._name}parserFor(t){return this.contains(t)?this.parser:null}parse([t,e]){let r=this.parserFor(e),a=this.lookup(e);return r&&a?b(r(t,a)):null}set parser(t){this._parser=t}get parser(){return this._parser}}class A extends k{constructor(){super(...arguments),this.map=new Map}lookup(t){return this.map.get(t)}contains(t){return this.map.has(t)}add(t,e){this.map.set(t,e)}remove(t){this.map.delete(t)}}class y extends A{constructor(t,e,r){super(t,null);for(const t of Object.keys(e)){let a=e[t],[s,...n]="string"==typeof a?[a]:a,o=new S(t,r[s],n);this.add(t,o)}}parserFor(t){let e=this.lookup(t);return e?e.func:null}parse([t,e]){let r=this.lookup(e),a=this.parserFor(e);return r&&a?b(a(t,r.symbol,...r.args)):null}}const P=MathJax._.input.tex.Configuration,v=P.Configuration,T=(P.ConfigurationHandler,P.ParserConfiguration),O=MathJax._.input.tex.ParseOptions.default,C=MathJax._.input.tex.base.BaseItems,I=C.StartItem,E=C.StopItem,_=(C.OpenItem,C.CloseItem,C.PrimeItem,C.SubsupItem,C.OverItem,C.LeftItem,C.Middle,C.RightItem,C.BreakItem,C.BeginItem,C.EndItem,C.StyleItem),L=(C.PositionItem,C.CellItem,C.MmlItem),N=(C.FnItem,C.NotItem,C.NonscriptItem,C.DotsItem,C.ArrayItem,C.EqnArrayItem,C.MstyleItem,C.EquationItem,MathJax._.input.tex.TexParser.default),F=MathJax._.input.tex.TexError.default,w=MathJax._.input.tex.ParseUtil.default,R=MathJax._.input.tex.NodeUtil.default;class J extends N{get texParser(){return this.configuration.packageData.get("textmacros").texParser}get tags(){return this.texParser.tags}constructor(t,e,r,a){super(t,e,r),this.level=a}mml(){return this.copyLists(),this.configuration.popParser(),null!=this.level?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):1===this.nodes.length?this.nodes[0]:this.create("node","mrow",this.nodes)}copyLists(){const t=this.texParser.configuration;for(const[e,r]of Object.keys(this.configuration.nodeLists))for(const a of r)t.addNode(e,a);this.configuration.nodeLists={}}Parse(){this.text="",this.nodes=[],this.envStack=[],super.Parse()}saveText(){if(this.text){const t=this.stack.env.mathvariant,e=w.internalText(this,this.text,t?{mathvariant:t}:{});this.text="",this.Push(e)}}Push(t){if(this.text&&this.saveText(),t instanceof E)return super.Push(t);t instanceof _?this.stack.env.mathcolor=this.stack.env.color:t instanceof n&&(this.addAttributes(t),this.nodes.push(t))}PushMath(t){const e=this.stack.env;t.isKind("TeXAtom")||(t=this.create("node","TeXAtom",[t]));for(const r of["mathsize","mathcolor"])e[r]&&!t.attributes.getExplicit(r)&&(t.isToken||t.isKind("mstyle")||(t=this.create("node","mstyle",[t])),R.setAttribute(t,r,e[r]));t.isInferred&&(t=this.create("node","mrow",t.childNodes)),this.nodes.push(t)}addAttributes(t){const e=this.stack.env;if(t.isToken)for(const r of["mathsize","mathcolor","mathvariant"])e[r]&&!t.attributes.getExplicit(r)&&R.setAttribute(t,r,e[r])}ParseTextArg(t,e){const r=this.GetArgument(t);return e=Object.assign(Object.assign({},this.stack.env),e),new J(r,e,this.configuration).mml()}ParseArg(t){return new J(this.GetArgument(t),this.stack.env,this.configuration).mml()}Error(t,e,...r){throw new F(t,e,...r)}}const H=MathJax._.util.Retries,z=(H.handleRetriesFor,H.retryAfter),D=MathJax._.input.tex.base.BaseMethods,B=(D.splitAlignArray,D.default),j={Comment(t,e){for(;t.i<t.string.length&&"\n"!==t.string.charAt(t.i);)t.i++;t.i++},Math(t,e){t.saveText();let r,a,s=t.i,n=0;for(;a=t.GetNext();)switch(r=t.i++,a){case"\\":")"===t.GetCS()&&(a="\\(");case"$":if(0===n&&e===a){const e=t.texParser.configuration,a=new N(t.string.substr(s,r-s),t.stack.env,e).mml();return void t.PushMath(a)}break;case"{":n++;break;case"}":0===n&&t.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),n--}t.Error("MathNotTerminated","Math-mode is not properly terminated")},MathModeOnly(t,e){t.Error("MathModeOnly","'%1' allowed only in math mode",e)},Misplaced(t,e){t.Error("Misplaced","'%1' can not be used here",e)},OpenBrace(t,e){const r=t.stack.env;t.envStack.push(r),t.stack.env=Object.assign({},r)},CloseBrace(t,e){t.envStack.length?(t.saveText(),t.stack.env=t.envStack.pop()):t.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote(t,e){t.string.charAt(t.i)===e?(t.text+="\u201c",t.i++):t.text+="\u2018"},CloseQuote(t,e){t.string.charAt(t.i)===e?(t.text+="\u201d",t.i++):t.text+="\u2019"},Tilde(t,e){t.text+="\xa0"},Space(t,e){for(t.text+=" ";t.GetNext().match(/\s/);)t.i++},SelfQuote(t,e){t.text+=e.substr(1)},Insert(t,e,r){t.text+=r},Accent(t,e,r){const a=t.ParseArg(e),s=t.create("token","mo",{},r);t.addAttributes(s),t.Push(t.create("node","mover",[a,s]))},Emph(t,e){const r="-tex-mathit"===t.stack.env.mathvariant?"normal":"-tex-mathit";t.Push(t.ParseTextArg(e,{mathvariant:r}))},TextFont(t,e,r){t.saveText(),t.Push(t.ParseTextArg(e,{mathvariant:r}))},SetFont(t,e,r){t.saveText(),t.stack.env.mathvariant=r},SetSize(t,e,r){t.saveText(),t.stack.env.mathsize=r},CheckAutoload(t,e){const r=t.configuration.packageData.get("autoload"),a=t.texParser;e=e.slice(1);const s=a.lookup("macro",e);if(!s||r&&s._func===r.Autoload){if(a.parse("macro",[a,e]),!s)return;z(Promise.resolve())}a.parse("macro",[t,e])},Macro:B.Macro,Spacer:B.Spacer,Hskip:B.Hskip,rule:B.rule,Rule:B.Rule,HandleRef:B.HandleRef,UnderOver:B.UnderOver,Lap:B.Lap,Phantom:B.Phantom,Smash:B.Smash,MmlToken:B.MmlToken},Q=MathJax._.input.tex.SymbolMap,U=(Q.parseResult,Q.AbstractSymbolMap,Q.RegExpMap,Q.AbstractParseMap,Q.CharacterMap,Q.DelimiterMap,Q.MacroMap),G=Q.CommandMap,K=(Q.EnvironmentMap,MathJax._.input.tex.TexConstants.TexConstant),q=MathJax._.util.lengths,X=(q.BIGDIMEN,q.UNITS,q.RELUNITS,q.MATHSPACE),$=(q.length2em,q.percent,q.em,q.emRounded,q.px,K.Variant);new U("text-special",{$:"Math","%":"Comment","^":"MathModeOnly",_:"MathModeOnly","&":"Misplaced","#":"Misplaced","~":"Tilde"," ":"Space","\t":"Space","\r":"Space","\n":"Space","\xa0":"Tilde","{":"OpenBrace","}":"CloseBrace","`":"OpenQuote","'":"CloseQuote"},j),new G("text-macros",{"(":"Math",$:"SelfQuote",_:"SelfQuote","%":"SelfQuote","{":"SelfQuote","}":"SelfQuote"," ":"SelfQuote","&":"SelfQuote","#":"SelfQuote","\\":["Macro","$\\\\$"],"'":["Accent","\xb4"],"\u2019":["Accent","\xb4"],"`":["Accent","`"],"\u2018":["Accent","`"],"^":["Accent","^"],'"':["Accent","\xa8"],"~":["Accent","~"],"=":["Accent","\xaf"],".":["Accent","\u02d9"],u:["Accent","\u02d8"],v:["Accent","\u02c7"],emph:"Emph",rm:["SetFont",$.NORMAL],mit:["SetFont",$.ITALIC],oldstyle:["SetFont",$.OLDSTYLE],cal:["SetFont",$.CALLIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",$.BOLD],sf:["SetFont",$.SANSSERIF],tt:["SetFont",$.MONOSPACE],frak:["TextFont",$.FRAKTUR],Bbb:["TextFont",$.DOUBLESTRUCK],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],textnormal:["Macro","{\\rm #1}",1],textup:["Macro","{\\rm #1}",1],textrm:["Macro","{\\rm #1}",1],textit:["Macro","{\\it #1}",1],textbf:["Macro","{\\bf #1}",1],textsf:["Macro","{\\sf #1}",1],texttt:["Macro","{\\tt #1}",1],dagger:["Insert","\u2020"],ddagger:["Insert","\u2021"],S:["Insert","\xa7"],",":["Spacer",X.thinmathspace],":":["Spacer",X.mediummathspace],">":["Spacer",X.mediummathspace],";":["Spacer",X.thickmathspace],"!":["Spacer",X.negativethinmathspace],enspace:["Spacer",.5],quad:["Spacer",1],qquad:["Spacer",2],thinspace:["Spacer",X.thinmathspace],negthinspace:["Spacer",X.negativethinmathspace],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],color:"CheckAutoload",textcolor:"CheckAutoload",colorbox:"CheckAutoload",fcolorbox:"CheckAutoload",href:"CheckAutoload",style:"CheckAutoload",class:"CheckAutoload",data:"CheckAutoload",cssId:"CheckAutoload",unicode:"CheckAutoload",U:"CheckAutoload",char:"CheckAutoload",ref:["HandleRef",!1],eqref:["HandleRef",!0],underline:["UnderOver","2015"],llap:"Lap",rlap:"Lap",phantom:"Phantom",vphantom:["Phantom",1,0],hphantom:["Phantom",0,1],smash:"Smash",mmlToken:"MmlToken"},j);const V=v.create("text-base",{parser:"text",handler:{character:["command","text-special"],macro:["text-macros"]},fallback:{character:(t,e)=>{t.text+=e},macro:(t,e)=>{const r=t.texParser,a=r.lookup("macro",e);a&&a._func!==j.Macro&&t.Error("MathMacro","%1 is only supported in math mode","\\"+e),r.parse("macro",[t,e])}},items:{[I.prototype.kind]:I,[E.prototype.kind]:E,[L.prototype.kind]:L,[_.prototype.kind]:_}});function Y(t,e,r,a){const s=t.configuration.packageData.get("textmacros");return t instanceof J||(s.texParser=t),s.parseOptions.clear(),[new J(e,a?{mathvariant:a}:{},s.parseOptions,r).mml()]}v.create("textmacros",{config(t,e){const r=new T(e.parseOptions.options.textmacros.packages,["tex","text"]);r.init();const a=new O(r,[]);a.options=e.parseOptions.options,r.config(e),f.addTags(r.tags),a.tags=f.getDefault(),a.tags.configuration=a,a.packageData=e.parseOptions.packageData,a.packageData.set("textmacros",{parseOptions:a,jax:e,texParser:null}),a.options.internalMath=Y},preprocessors:[t=>{const e=t.data.packageData.get("textmacros");e.parseOptions.nodeFactory.setMmlFactory(e.jax.mmlFactory)}],options:{textmacros:{packages:["text-base"]}}});let W={};W.xhref=function(t,e){const r=t.GetBrackets(e),a=t.GetArgument(e),s=function(t,e){const r=t.ParseArg(e);if(!l.isInferred(r))return r;const a=l.getChildren(r);if(1===a.length)return a[0];const s=t.create("node","mrow");return l.copyChildren(r,s),l.copyAttributes(r,s),s}(t,e);let n=t.create("node","mpadded",[s],{height:"+4px",depth:"+4px",width:"+4px",lspace:"2px",href:a,"data-ams-ref":r});t.Push(n)},new class extends y{parse([t,e]){let r=this.lookup(e),a=this.parserFor(e);if(!r||!a)return null;let s=t.currentCS;t.currentCS="\\"+e;let n=a(t,"\\"+r.symbol,...r.args);return t.currentCS=s,b(n)}}("xhref-macros",{xhref:"xhref"},W),V.handler.macro.unshift("xhref-macros");const Z=x.create("xhref",{handler:{macro:["xhref-macros"]}});MathJax.loader&&MathJax.loader.checkVersion("[ams]/xhref","4.0.0-beta.3","tex-extension"),a({_:{xhref:e}})})();